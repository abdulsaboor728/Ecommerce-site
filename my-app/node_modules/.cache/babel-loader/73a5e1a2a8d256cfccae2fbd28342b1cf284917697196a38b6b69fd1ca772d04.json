{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\PC\\\\Desktop\\\\Saboor Assignment\\\\my-app\\\\src\\\\components\\\\Admin.js\",\n  _s = $RefreshSig$();\n// client/src/components/Admin.js\nimport React, { useState, useEffect } from 'react';\nimport axios from 'axios';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction Admin() {\n  _s();\n  const [itemData, setItemData] = useState({\n    name: '',\n    description: '',\n    price: '',\n    seller: '',\n    image: '',\n    category: 'Vinyls',\n    batteryLife: '',\n    age: '',\n    size: '',\n    material: ''\n  });\n\n  // Retrieve the logged-in user (assuming admin is logged in)\n  const [user, setUser] = useState(null);\n  useEffect(() => {\n    const storedUser = localStorage.getItem('user');\n    if (storedUser) setUser(JSON.parse(storedUser));\n  }, []);\n  const handleChange = e => {\n    setItemData({\n      ...itemData,\n      [e.target.name]: e.target.value\n    });\n  };\n  const handleSubmit = async e => {\n    e.preventDefault();\n    try {\n      // Make sure price is a number\n      const data = {\n        ...itemData,\n        price: parseFloat(itemData.price)\n      };\n      console.log(\"Submitting item data:\", data);\n      const response = await axios.post('http://localhost:5000/api/items', data);\n      console.log(\"Item added:\", response.data);\n      alert(\"Item added successfully!\");\n      // Optionally, reset the form:\n      setItemData({\n        name: '',\n        description: '',\n        price: '',\n        seller: '',\n        image: '',\n        category: 'Vinyls',\n        batteryLife: '',\n        age: '',\n        size: '',\n        material: ''\n      });\n    } catch (error) {\n      console.error(\"Error adding item:\", error);\n      alert(\"Failed to add item. Check the console for errors.\");\n    }\n  };\n\n  // Ensure that only an admin can submit\n  const isAdmin = user && user.isAdmin;\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"admin-panel panel\",\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      children: \"Admin Panel\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 7\n    }, this), !isAdmin && /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        color: 'red',\n        fontWeight: 'bold'\n      },\n      children: \"You are not authorized to add items.\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: handleSubmit,\n      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n        name: \"name\",\n        placeholder: \"Name\",\n        value: itemData.name,\n        onChange: handleChange,\n        required: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        name: \"description\",\n        placeholder: \"Description\",\n        value: itemData.description,\n        onChange: handleChange\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        name: \"price\",\n        placeholder: \"Price\",\n        value: itemData.price,\n        onChange: handleChange,\n        required: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        name: \"seller\",\n        placeholder: \"Seller\",\n        value: itemData.seller,\n        onChange: handleChange\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        name: \"image\",\n        placeholder: \"Image URL\",\n        value: itemData.image,\n        onChange: handleChange\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n        name: \"category\",\n        value: itemData.category,\n        onChange: handleChange,\n        children: [/*#__PURE__*/_jsxDEV(\"option\", {\n          value: \"Vinyls\",\n          children: \"Vinyls\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 76,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n          value: \"Antique Furniture\",\n          children: \"Antique Furniture\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 77,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n          value: \"GPS SportWatches\",\n          children: \"GPS SportWatches\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 78,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n          value: \"Running Shoes\",\n          children: \"Running Shoes\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 79,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        name: \"batteryLife\",\n        placeholder: \"Battery Life\",\n        value: itemData.batteryLife,\n        onChange: handleChange\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        name: \"age\",\n        placeholder: \"Age\",\n        value: itemData.age,\n        onChange: handleChange\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        name: \"size\",\n        placeholder: \"Size\",\n        value: itemData.size,\n        onChange: handleChange\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        name: \"material\",\n        placeholder: \"Material\",\n        value: itemData.material,\n        onChange: handleChange\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"submit\",\n        disabled: !isAdmin,\n        children: \"Add Item\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 62,\n    columnNumber: 5\n  }, this);\n}\n_s(Admin, \"d8WviLCdsVK4puVC9a2RXKDmf8c=\");\n_c = Admin;\nexport default Admin;\nvar _c;\n$RefreshReg$(_c, \"Admin\");","map":{"version":3,"names":["React","useState","useEffect","axios","jsxDEV","_jsxDEV","Admin","_s","itemData","setItemData","name","description","price","seller","image","category","batteryLife","age","size","material","user","setUser","storedUser","localStorage","getItem","JSON","parse","handleChange","e","target","value","handleSubmit","preventDefault","data","parseFloat","console","log","response","post","alert","error","isAdmin","className","children","fileName","_jsxFileName","lineNumber","columnNumber","style","color","fontWeight","onSubmit","placeholder","onChange","required","type","disabled","_c","$RefreshReg$"],"sources":["C:/Users/PC/Desktop/Saboor Assignment/my-app/src/components/Admin.js"],"sourcesContent":["// client/src/components/Admin.js\r\nimport React, { useState, useEffect } from 'react';\r\nimport axios from 'axios';\r\n\r\nfunction Admin() {\r\n  const [itemData, setItemData] = useState({\r\n    name: '',\r\n    description: '',\r\n    price: '',\r\n    seller: '',\r\n    image: '',\r\n    category: 'Vinyls',\r\n    batteryLife: '',\r\n    age: '',\r\n    size: '',\r\n    material: ''\r\n  });\r\n  \r\n  // Retrieve the logged-in user (assuming admin is logged in)\r\n  const [user, setUser] = useState(null);\r\n  useEffect(() => {\r\n    const storedUser = localStorage.getItem('user');\r\n    if (storedUser) setUser(JSON.parse(storedUser));\r\n  }, []);\r\n\r\n  const handleChange = (e) => {\r\n    setItemData({ ...itemData, [e.target.name]: e.target.value });\r\n  };\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    try {\r\n      // Make sure price is a number\r\n      const data = { ...itemData, price: parseFloat(itemData.price) };\r\n      console.log(\"Submitting item data:\", data);\r\n      const response = await axios.post('http://localhost:5000/api/items', data);\r\n      console.log(\"Item added:\", response.data);\r\n      alert(\"Item added successfully!\");\r\n      // Optionally, reset the form:\r\n      setItemData({\r\n        name: '',\r\n        description: '',\r\n        price: '',\r\n        seller: '',\r\n        image: '',\r\n        category: 'Vinyls',\r\n        batteryLife: '',\r\n        age: '',\r\n        size: '',\r\n        material: ''\r\n      });\r\n    } catch (error) {\r\n      console.error(\"Error adding item:\", error);\r\n      alert(\"Failed to add item. Check the console for errors.\");\r\n    }\r\n  };\r\n\r\n  // Ensure that only an admin can submit\r\n  const isAdmin = user && user.isAdmin;\r\n\r\n  return (\r\n    <div className=\"admin-panel panel\">\r\n      <h1>Admin Panel</h1>\r\n      {!isAdmin && (\r\n        <div style={{ color: 'red', fontWeight: 'bold' }}>\r\n          You are not authorized to add items.\r\n        </div>\r\n      )}\r\n      <form onSubmit={handleSubmit}>\r\n        <input name=\"name\" placeholder=\"Name\" value={itemData.name} onChange={handleChange} required />\r\n        <input name=\"description\" placeholder=\"Description\" value={itemData.description} onChange={handleChange} />\r\n        <input name=\"price\" placeholder=\"Price\" value={itemData.price} onChange={handleChange} required />\r\n        <input name=\"seller\" placeholder=\"Seller\" value={itemData.seller} onChange={handleChange} />\r\n        <input name=\"image\" placeholder=\"Image URL\" value={itemData.image} onChange={handleChange} />\r\n        <select name=\"category\" value={itemData.category} onChange={handleChange}>\r\n          <option value=\"Vinyls\">Vinyls</option>\r\n          <option value=\"Antique Furniture\">Antique Furniture</option>\r\n          <option value=\"GPS SportWatches\">GPS SportWatches</option>\r\n          <option value=\"Running Shoes\">Running Shoes</option>\r\n        </select>\r\n        {/* Additional fields */}\r\n        <input name=\"batteryLife\" placeholder=\"Battery Life\" value={itemData.batteryLife} onChange={handleChange} />\r\n        <input name=\"age\" placeholder=\"Age\" value={itemData.age} onChange={handleChange} />\r\n        <input name=\"size\" placeholder=\"Size\" value={itemData.size} onChange={handleChange} />\r\n        <input name=\"material\" placeholder=\"Material\" value={itemData.material} onChange={handleChange} />\r\n        <button type=\"submit\" disabled={!isAdmin}>Add Item</button>\r\n      </form>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Admin;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}